<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zusic租樂趣-樂器列表</title>
    <!-- reset -->
    <link rel="stylesheet" href="css/reset.css">
    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Damion&family=Noto+Sans+TC:wght@100..900&display=swap"
        rel="stylesheet">
    <!-- icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- 共通的css -->
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/header-footer.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/login.css">
    <!-- 此頁面的css -->
    <link rel="stylesheet" href="css/rent.css">
</head>

<body>
    <!-- header -->
    <header>
        <div class="navbar">
            <div class="container">
                <div class="header_logo">
                    <a href="index.html"><img src="img/zusic-logo.svg" alt="Zusic-logo" title="Zusic租樂趣"></a>
                </div>
                <input type="checkbox" id="menu_control">
                <nav>
                    <ul>
                        <li><a href="news.html">最新消息</a></li>
                        <li><a href="about_us.html">關於租樂趣</a></li>
                        <li><a href="quickly_rent.html">單日快速租借專區</a></li>
                        <li><a href="rent.html">樂器租借</a></li>
                        <li><a href="service_center.html">服務據點</a></li>
                    </ul>
                    <div class="footer_icon">
                        <div class="map_icon">
                            <i class="fa-solid fa-map" alt="map_icon" title="map"></i>
                        </div>
                        <div class="ig_icon">
                            <i class="fa-brands fa-instagram" alt="ig_icon" title="ig"></i>
                        </div>
                        <div class="fb_icon">
                            <i class="fa-brands fa-square-facebook" alt="fb_icon" title="fb"></i>
                        </div>
                    </div>
                </nav>
                <div class="header_icon">
                    <button class="user_icon">
                        <i class="fa-solid fa-user-gear" alt="user_icon" title="member area"></i>
                    </button>
                    <div id="lightbox" class="none">
                        <article id="login">
                            <div class="login_wrap">
                                <div class="normal_form">
                                    <h2 class="h2_line">帳號登入</h2>
                                    <button class="leave_icon user_icon_close">
                                        <i class="fa-solid fa-circle-xmark"></i>
                                    </button>
                                    <div class="form_wrap">
                                        <form>
                                            <div class="form-group">
                                                <input type="email" id="email" name="email" required placeholder="電子信箱">
                                            </div>
                                            <div class="form-group">
                                                <input type="password" id="user-password" name="password" required
                                                    placeholder="密碼">
                                                <i class="fa-solid fa-eye-slash toggle-password"></i>
                                            </div>
                                        </form>
                                        <button type="submit" class="normal_btn">登入</button>
                                        <div class="else">
                                            <a href="#">
                                                <p class="login_text">忘記密碼</p>
                                            </a>
                                            <a href="#">
                                                <p class="login_text">立即註冊</p>
                                            </a>
                                        </div>
                                        <div class="morechoose-wrap">
                                            <p class="morechoose">更多登入方式</p>
                                        </div>
                                        <div class="social_media_icon">
                                            <img src="img/login_img/google_icon.svg" alt="google_icon">
                                            <img src="img/login_img/fb_icon.svg" alt="fb_icon">
                                            <img src="img/login_img/line_icon.svg" alt="line_icon">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                    <button id="cart_icon">
                        <i class="fa-solid fa-cart-shopping" alt="cart_icon" title="cart"></i>
                    </button>
                </div>
                <label for="menu_control" class="menu_overlay"></label>
                <label for="menu_control"
                    class="hb"><!-- 點擊這個 <label> 區域時，瀏覽器會自動切換與它關聯的表單元素（即 <input id="menu_control">）的 checked 狀態 -->
                    <span class="bar1"></span>
                    <span class="bar2"></span>
                    <span class="bar3"></span>
                </label>
            </div>
        </div>
    </header>
    <!-- rent -->
    <section id="rent">
        <div class="container">
            <h1>樂器列表</h1>
            <div class="classstyle_btnwrap">
                <button title="keyboard instrument">
                    <img src="img/instrument-img/pianos.png" alt="keyboard instrument">
                    <p class="second-p">鍵盤樂器</p>
                </button>
                <button title="strings">
                    <img src="img/instrument-img/strings.png" alt="strings">
                    <p class="second-p">弦樂器</p>
                </button>
                <button title="wind instruments">
                    <img src="img/instrument-img/wind_instruments.png" alt="wind instruments">
                    <p class="second-p">管樂器</p>
                </button>
                <button title="percussion instruments">
                    <img src="img/instrument-img/drums.png" alt="percussion instruments">
                    <p class="second-p">打擊樂器</p>
                </button>
                <button title="else">
                    <img src="img/instrument-img/boxes.png" alt="else">
                    <p class="second-p">其他</p>
                </button>
            </div>
            <div class="search-wrap">
                <div class="search-group">
                    <input type="text" placeholder="請輸入關鍵字" class="search">
                    <button type="submit" class="search-btn">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                </div>
                <div class="filter-group">
                    <select class="filter">
                        <option value="" disabled selected>商品排序</i></option>
                        <option value="price-lowtohight">價格低到高</option>
                        <option value="price-highttolow">價格高到低</option>
                        <option value="degree-lowtotop">程度低到高</option>
                        <option value="degree-toptolow">程度高到低</option>
                    </select>
                </div>
            </div>
            <div class="card-list fade-in">
                <a href="rent_inside.html" class="card" data-type="keyboard" data-price="10000" data-degree="3">
                    <div class="pic">
                        <img src="img/instrument-img/A_brand_piano-P15.png" alt="A brand piano-P15">
                    </div>
                    <div class="text">
                        <p>A品牌平台型鋼琴-P15</p>
                        <p>NT$ 10,000/日</p>
                    </div>
                    <div class="pro-degree_label">
                        <span>專業</span>
                        <div class="triangle"></div>
                    </div>
                </a>

                <a href="rent_inside.html" class="card" data-type="keyboard" data-price="600" data-degree="1">
                    <div class="pic">
                        <img src="img/instrument-img/A_brand_upright_piano-P22.png" alt="A brand upright piano-P22">
                    </div>
                    <div class="text">
                        <p>A品牌直立式鋼琴-P22</p>
                        <p>NT$ 600/日</p>
                    </div>
                    <div class="low-degree_label">
                        <span>新手</span>
                        <div class="triangle"></div>
                    </div>
                </a>

                <a href="rent_inside.html" class="card" data-type="strings" data-price="750" data-degree="1">
                    <div class="pic">
                        <img src="img/instrument-img/A_brand_violin-V09.png" alt="A brand violin-V09">
                    </div>
                    <div class="text">
                        <p>A品牌小提琴-V09</p>
                        <p>NT$ 750/日</p>
                    </div>
                    <div class="low-degree_label">
                        <span>新手</span>
                        <div class="triangle"></div>
                    </div>
                </a>

                <a href="rent_inside.html" class="card" data-type="strings" data-price="800" data-degree="1">
                    <div class="pic">
                        <img src="img/instrument-img/A_brand_viola-V14.png" alt="A brand viola-V14">
                    </div>
                    <div class="text">
                        <p>A品牌中提琴-V14</p>
                        <p>NT$ 800/日</p>
                    </div>
                    <div class="low-degree_label">
                        <span>新手</span>
                        <div class="triangle"></div>
                    </div>
                </a>

                <a href="rent_inside.html" class="card" data-type="strings" data-price="900" data-degree="1">
                    <div class="pic">
                        <img src="img/instrument-img/A_brand_cello-C08.png" alt="A brand cello-C08">
                    </div>
                    <div class="text">
                        <p>A品牌大提琴-C08</p>
                        <p>NT$ 900/日</p>
                    </div>
                    <div class="low-degree_label">
                        <span>新手</span>
                        <div class="triangle"></div>
                    </div>
                </a>

                <a href="rent_inside.html" class="card" data-type="strings" data-price="1500" data-degree="1">
                    <div class="pic">
                        <img src="img/instrument-img/A_brand_db-DB05.png" alt="A brand db-DB05">
                    </div>
                    <div class="text">
                        <p>A品牌低音大提琴-DB05</p>
                        <p>NT$ 1,500/日</p>
                    </div>
                    <div class="low-degree_label">
                        <span>新手</span>
                        <div class="triangle"></div>
                    </div>
                </a>

                <a href="rent_inside.html" class="card" data-type="wind" data-price="750" data-degree="1">
                    <div class="pic">
                        <img src="img/instrument-img/A_brand_flute-F3.png" alt="A brand flute-F3">
                    </div>
                    <div class="text">
                        <p>A品牌長笛-F3</p>
                        <p>NT$ 750/日</p>
                    </div>
                    <div class="low-degree_label">
                        <span>新手</span>
                        <div class="triangle"></div>
                    </div>
                </a>

                <a href="rent_inside.html" class="card" data-type="wind" data-price="750" data-degree="1">
                    <div class="pic">
                        <img src="img/instrument-img/A_brand_clarinet-C05.png" alt="A brand clarinet-C05">
                    </div>
                    <div class="text">
                        <p>A品牌豎笛-C05</p>
                        <p>NT$ 750/日</p>
                    </div>
                    <div class="low-degree_label">
                        <span>新手</span>
                        <div class="triangle"></div>
                    </div>
                </a>

                <a href="rent_inside.html" class="card" data-type="wind" data-price="1500" data-degree="2">
                    <div class="pic">
                        <img src="img/instrument-img/A_brand_horn-H01.png" alt="A brand horn-H01">
                    </div>
                    <div class="text">
                        <p>A品牌法國號-H01</p>
                        <p>NT$ 1,500/日</p>
                    </div>
                    <div class="advance-degree_label">
                        <span>進階</span>
                        <div class="triangle"></div>
                    </div>
                </a>

                <a href="rent_inside.html" class="card" data-type="wind" data-price="1500" data-degree="2">
                    <div class="pic">
                        <img src="img/instrument-img/A_brand_trumpet-T02.png" alt="A brand trumpet-T02">
                    </div>
                    <div class="text">
                        <p>A品牌小號-T02</p>
                        <p>NT$ 1,500/日</p>
                    </div>
                    <div class="advance-degree_label">
                        <span>進階</span>
                        <div class="triangle"></div>
                    </div>
                </a>

                <a href="rent_inside.html" class="card" data-type="wind" data-price="1750" data-degree="2">
                    <div class="pic">
                        <img src="img/instrument-img/A_brand_sax-S02.png" alt="A brand sax-S02">
                    </div>
                    <div class="text">
                        <p>A品牌薩克斯風-S02</p>
                        <p>NT$ 1,750/日</p>
                    </div>
                    <div class="advance-degree_label">
                        <span>進階</span>
                        <div class="triangle"></div>
                    </div>
                </a>

                <a href="rent_inside.html" class="card" data-type="percussion" data-price="10000" data-degree="3">
                    <div class="pic">
                        <img src="img/instrument-img/A_brand_jazz drums-JD01.png" alt="A brand jazz drums-JD01">
                    </div>
                    <div class="text">
                        <p>A品牌爵士鼓-JD01</p>
                        <p>NT$ 10,000/日</p>
                    </div>
                    <div class="pro-degree_label">
                        <span>專業</span>
                        <div class="triangle"></div>
                    </div>
                </a>
            </div>
            <div class="pagenumber_btn">
                <!-- <a href="rent.html">1</a>
                <a href="rent.html">2</a>
                <a href="rent.html">3</a>
                <a href="rent.html">4</a> -->
            </div>
        </div>
    </section>
    <!-- footer -->
    <footer>
        <div class="navbar">
            <div class="container">
                <nav>
                    <ul>
                        <li><span class="material-symbols-outlined">deskphone</span>&nbsp;服務專線：03-425-1108</li>
                        <li><span class="material-symbols-outlined">home_app_logo</span>&nbsp;服務地址：320桃園市中壢區復興路46號8樓
                        </li>
                        <li><span
                                class="material-symbols-outlined">assistant_on_hub</span>&nbsp;服務信箱：zusic_2025@gmail.com
                        </li>
                    </ul>
                </nav>
                <div class="footer_logo">
                    <a href="index.html"><img src="img/zusic-logo.svg" alt="Zusic-logo" title="Zusic租樂趣"></a>
                </div>
                <div class="footer_icon">
                    <div class="map_icon">
                        <i class="fa-solid fa-map" alt="map_icon" title="map"></i>
                    </div>
                    <div class="ig_icon">
                        <i class="fa-brands fa-instagram" alt="ig_icon" title="ig"></i>
                    </div>
                    <div class="fb_icon">
                        <i class="fa-brands fa-square-facebook" alt="fb_icon" title="fb"></i>
                    </div>
                </div>
            </div>
        </div>
        <div class="footerbar">
            <div class="container">
                <p class="damion-regular">copyright © 2025 Zusic.All Rights Reserved.</p>
                <p>本網站為緯育TibaMe_前端工程師專業技術養成班學員專題成果作品，僅供學習、展示之用。</p>
            </div>
        </div>
    </footer>
    <script src="./vendors/jquery/jquery-3.7.1.min.js"></script>
    <script src="./js/common.js"></script>
    <script>
        $(document).ready(function () {
            const $cards = $('.card');
            const $cardList = $('.card-list');
            const $pageContainer = $('.pagenumber_btn');
            const itemsPerPage = 8; // 設定每一頁顯示幾張卡片
            let currentPage = 1;
            let filteredCards = $cards.toArray(); // 存放目前篩選後的卡片陣列

            // 初始化顯示
            updateDisplay();

            // --- 功能 A：類別按鈕篩選 ---
            $('.classstyle_btnwrap button').on('click', function () {
                const type = $(this).attr('title').split(' ')[0].toLowerCase();

                filteredCards = $cards.toArray().filter(card => {
                    const cardType = $(card).data('type');
                    return type === 'else' ? true : (cardType === type);
                    // 註：若點擊「其他」想看全部，可調整邏輯
                });

                currentPage = 1; // 篩選後回到第一頁
                updateDisplay();
            });

            // --- 功能 B：關鍵字搜尋 ---
            $('.search-btn').on('click', function () {
                const keyword = $('.search').val().toLowerCase();

                filteredCards = $cards.toArray().filter(card => {
                    const text = $(card).find('.text p:first-child').text().toLowerCase();
                    return text.includes(keyword);
                });

                currentPage = 1;
                updateDisplay();
            });

            // --- 功能 C：排序功能 ---
            $('.filter').on('change', function () {
                const sortType = $(this).val();
                const dataKey = sortType.split('-')[0]; // price 或 degree

                filteredCards.sort(function (a, b) {
                    const valA = parseInt($(a).data(dataKey));
                    const valB = parseInt($(b).data(dataKey));

                    if (sortType.includes('lowtohight') || sortType.includes('lowtotop')) {
                        return valA - valB;
                    } else {
                        return valB - valA;
                    }
                });

                currentPage = 1;
                updateDisplay();
            });

            // --- 核心：更新畫面與頁碼 ---
            function updateDisplay() {
                // 1. 先隱藏所有卡片並清空容器
                $cards.hide();
                $cardList.empty();

                // 2. 計算分頁範圍
                const totalItems = filteredCards.length;
                const totalPages = Math.ceil(totalItems / itemsPerPage);
                const start = (currentPage - 1) * itemsPerPage;
                const end = start + itemsPerPage;

                // 3. 拿出當前頁數該顯示的卡片
                const pagedItems = filteredCards.slice(start, end);
                $(pagedItems).appendTo($cardList).fadeIn();

                // 4. 生成頁碼按鈕
                renderPagination(totalPages);
            }

            function renderPagination(totalPages) {
                $pageContainer.empty();

                if (totalPages <= 1) return; // 如果只有一頁就不顯示頁碼

                for (let i = 1; i <= totalPages; i++) {
                    const $pageBtn = $(`<a href="javascript:;">${i}</a>`);
                    if (i === currentPage) $pageBtn.addClass('active'); // 假設您有 active 樣式

                    $pageBtn.on('click', function () {
                        currentPage = i;
                        updateDisplay();
                        // 捲動到頂部讓使用者知道換頁了
                        $('html, body').animate({ scrollTop: $('#rent').offset().top - 100 }, 300);
                    });

                    $pageContainer.append($pageBtn);
                }
            }
        });
    </script>
</body>

</html>